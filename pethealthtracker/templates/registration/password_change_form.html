{% extends "dashboard/base.html" %}
{% load static %}

{% block title %}Change Password{% endblock %}

{% block css %}
<link rel="stylesheet" href="{% static 'css/password.css' %}">
{% endblock %}

{% block top_actions %}
<form method="POST" action="{% url 'logout' %}" style="display:inline;">
    {% csrf_token %}
    <button type="submit" class="btn-outline">Logout</button>
</form>
{% endblock %}

{% block content %}

<h2 class="page-title">Change Password</h2>

{% if form.errors %}
<div class="error-box">
    {% for field in form %}
        {% for error in field.errors %}
            <p class="error-text">{{ error }}</p>
        {% endfor %}
    {% endfor %}
    {% for error in form.non_field_errors %}
        <p class="error-text">{{ error }}</p>
    {% endfor %}
</div>
{% endif %}

<div class="password-card">
    <form method="POST">
        {% csrf_token %}

        <div class="form-group">
            <label>Old Password</label>
            {{ form.old_password }}
        </div>

        <div class="form-group">
            <label>New Password</label>
            {{ form.new_password1 }}
        </div>

        <div class="form-group">
            <label>Confirm New Password</label>
            {{ form.new_password2 }}
        </div>

        <button type="submit" class="btn-primary">
            Update Password
        </button>
    </form>
</div>

{% endblock %}
