{% extends "dashboard/base.html" %}
{# Inherits the common dashboard layout (top bar, sidebar, content area) #}

{% load static %}
{# Loads static files such as CSS #}

{% block title %}Edit Pet{% endblock %}
{# Sets the browser/page title dynamically #}

{% block css %}
{# Reuses create pet CSS for edit pet form styling #}
<link rel="stylesheet" href="{% static 'css/create_pet.css' %}">
{% endblock %}

{% block top_actions %}
{# Top-right action buttons in dashboard header #}

<a href="{% url 'dashboard:mypets' %}" class="btn-outline">
    ‚Üê Back to My Pets
</a>
{# Navigates back to pet listing page #}

<a href="{% url 'login' %}" class="btn-outline">Logout</a>
{# Logs out the current user #}
{% endblock %}

{% block content %}
{# Main content section for editing pet profile #}

<h2 class="page-title">Edit Pet Profile</h2>
{# Page heading #}

<div class="form-card">
    {# Card container for edit pet form #}

    <h3>Pet Details</h3>
    {# Section heading inside the form card #}

    <form method="POST">
        {# Uses POST method to update pet details securely #}

        {% csrf_token %}
        {# CSRF token for protection against cross-site request forgery #}

        <!-- Pet Name -->
        <div class="form-group">
            <label>Pet Name</label>
            {# Input field pre-filled with existing pet name #}
            <input type="text" name="name" value="{{ pet.name }}" required>
        </div>

        <!-- Pet Type & Breed -->
        <div class="form-row">
            {# Row layout for pet type and breed fields #}

            <div class="form-group">
                <label>Pet Type</label>
                {# Dropdown with current pet type selected #}
                <select name="pet_type" required>
                    <option value="Dog" {% if pet.pet_type == "Dog" %}selected{% endif %}>Dog</option>
                    <option value="Cat" {% if pet.pet_type == "Cat" %}selected{% endif %}>Cat</option>
                </select>
            </div>

            <div class="form-group">
                <label>Breed</label>
                {# Input field pre-filled with existing breed #}
                <input type="text" name="breed" value="{{ pet.breed }}" required>
            </div>
        </div>

        <!-- Age & Gender -->
        <div class="form-row">
            {# Row layout for age and gender fields #}

            <div class="form-group">
                <label>Age (years)</label>
                {# Numeric input pre-filled with pet age #}
                <input type="number" name="age" value="{{ pet.age }}" required>
            </div>

            <div class="form-group">
                <label>Gender</label>
                {# Dropdown with current gender selected #}
                <select name="gender" required>
                    <option value="Male" {% if pet.gender == "Male" %}selected{% endif %}>Male</option>
                    <option value="Female" {% if pet.gender == "Female" %}selected{% endif %}>Female</option>
                </select>
            </div>
        </div>

        <!-- Weight -->
        <div class="form-group">
            <label>Weight (kg)</label>
            {# Numeric input pre-filled with pet weight #}
            <input type="number" name="weight" value="{{ pet.weight }}" required>
        </div>

        {# Submit button to update pet profile #}
        <button type="submit" class="save-btn">
            Update Pet
        </button>
    </form>
</div>

{% endblock %}
